  router.get('/login', async (req, res) => {

    try {
    const userData = {
            email: req.body.email,
            password: req.body.password
        }
            
        if(User.findOne({email: userData.email, password: bcrypt.compareSync(password,hash)})){
            console.log("you are in the dashboard");
        }
        else{
            console.log("incorrect credentials");
        }

    } catch (err) {
      console.log(err)
      return res.status(400).send(err)
    }
  })

  router.post('/register', async (req, res) => {

    try {
      const userData = {
        firstname: req.body.firstname,
        lastname: req.body.lastname,
        email: req.body.email,
        password: bcrypt.hashSync(req.body.password, saltRounds)
      }

      if(!User.findOne({email: userData.email})){
         const createdUser = User.create(userData)
         return res.send(createdUser)
      }
      else{
        console.log("User already exists, try another email")
      }

    } catch (err) {
      console.log(err)
      return res.status(400).send(err)
    }
  })